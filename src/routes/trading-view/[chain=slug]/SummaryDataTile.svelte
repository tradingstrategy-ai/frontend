<script lang="ts">
	import type { Snippet } from 'svelte';
	import { formatAmount } from '$lib/helpers/formatters';
	import Button from '$lib/components/Button.svelte';

	interface Props {
		count: number | undefined;
		title: string;
		buttonLabel: string;
		href: string;
		rel?: string;
		children: Snippet;
	}

	const { count, title, buttonLabel, href, rel, children }: Props = $props();
</script>

<a class="summary-data-tile tile a" {href} {rel}>
	<div>
		<h3>{formatAmount(count)}</h3>
		<h4>{title}</h4>
		<p>{@render children()}</p>
	</div>
	<Button secondary label={buttonLabel} />
</a>

<style>
	.summary-data-tile {
		display: grid;
		grid-template-rows: 1fr auto;
		gap: var(--space-lg);
		padding: calc(var(--container-width) * 0.15);

		@media (--viewport-md-down) {
			padding: var(--space-ls);
		}

		h3 {
			font: var(--f-h2-bold);

			@media (--viewport-md-down) {
				font: var(--f-h3-bold);
			}
		}

		h4 {
			margin-block: var(--space-xxs) var(--space-sm);
			font: var(--f-h4-medium);

			@media (--viewport-md-down) {
				margin-block: 0;
				font: var(--f-h5-medium);
				color: var(--c-text-light);
			}
		}

		p {
			font: var(--f-ui-small-roman);
			letter-spacing: 0.01em;

			@media (--viewport-md-down) {
				display: none;
			}
		}
	}
</style>
